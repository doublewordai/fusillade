{
  "db_name": "PostgreSQL",
  "query": "\n            DELETE FROM requests\n            WHERE id IN (\n                SELECT id FROM (\n                    SELECT r.id FROM requests r\n                    WHERE r.batch_id IS NULL\n                    LIMIT $1\n                    FOR UPDATE OF r SKIP LOCKED\n                ) a\n                UNION ALL\n                SELECT id FROM (\n                    SELECT r.id FROM requests r\n                    JOIN batches b ON r.batch_id = b.id\n                    WHERE b.deleted_at IS NOT NULL\n                    LIMIT $1\n                    FOR UPDATE OF r SKIP LOCKED\n                ) b\n                LIMIT $1\n            )\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Int8"
      ]
    },
    "nullable": []
  },
  "hash": "ab3f28308553fb0b8e53e9f333805d5837bb8baa71ab4ac3118344f991e92ad0"
}
